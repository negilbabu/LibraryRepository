<app-sidenav2></app-sidenav2>

<head>
  <style>
    * {
      box-sizing: border-box;
    }

    @media only screen and (max-width: 1100px) {
      .filter {
        
      }

      .table-responsive {
        margin-top: 5%;
      }
    }
  </style>
</head>

<div class="text-center">
  <form [formGroup]="ObjSampleForm">
    <div class="card-box">
      <div class="row">
        <div class="table-responsive">
          <h1 style="text-align:center ;margin-top: 6%;">Borrow Details</h1>
          <input type="button" class="filter" (click)="clearFilter()" value="CLEAR"
              style="position:fixed; left:72%; top:20%;">
              <label style="margin-right: 10px;">START DATE</label> <input type="date" formControlName="date1"
              value="date1" style="margin-right: 5%;" max="{{date| date:'yyyy/MM/dd' }}">
            <label style="margin-right: 10px;">END DATE</label> <input type="date" formControlName="date2" value="date2"
              max="{{date| date:'yyyy/MM/dd' }}">
            <input type="button" (click)="getFilter()" value="FILTER">
          </div>
          <br>
        </div>
      </div>
    
    <!-- new table starts -->
    <table class="table table-striped w-auto" style="margin-left: 100px; position: relative;margin-right: 20px;">

      <!--Table head-->
      <thead>
        <tr role="row">
          <th (click)="sortfn('books.booksName')">Book Name</th>
          <th>Issued Date</th>
          <th>Return Date</th>
          <th (click)="sortfn('dueDate')">Due date</th>
          <th>
            <form [formGroup]="filter" style="width: 60%;">
              <select name="Status" formControlName="status" [(ngModel)]="selectedGroup" class="dropbtn" id="status"
                (ngModelChange)="disp1()">
                <option value="" [selected]="selected">status</option>
                <option value=1>APPROVED</option>
                <option value=2>REJECTED </option>
                <option value=3>RETURNED </option>
                <option value=4>REQUESTED</option>
              </select>
            </form>
          </th>
          <th>Reason</th>
          <th>DueDays</th>
          <th>Fine(INR)</th>
          <th>Payment</th>
        </tr>

      </thead>
      <tbody>
        <tr *ngFor="let borrow of  data | paginate 
        : {
            itemsPerPage: tableSize,
            currentPage: page,
            totalItems: count
          };
          ">
          <td>{{borrow.books.booksName}}</td>
          <td>{{borrow.issueDate| date:'dd/MM/yyyy'}}</td>
          <td>{{borrow.returnDate| date:'dd/MM/yyyy'}}</td>
          <td>{{borrow.dueDate| date:'dd/MM/yyyy'}}</td>
          <td>{{borrow.status}}</td>
          <td>{{borrow.reason}}</td>
          <td>{{borrow.dueDays}}</td>
          <td>{{borrow.fine}}</td>
          <td>{{borrow.paymentStatus}}</td>
      </tbody>
    </table>
    <div class="d-flex justify-content-center">
      <pagination-controls (pageChange)="onTableDataChange(page=$event)">
      </pagination-controls>
    </div>