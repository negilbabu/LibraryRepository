<app-sidenav></app-sidenav>
<br><br><br><br>
<div style="text-align: center;top:50%">


  <button mat-raised-button (click)="openDialog()" style="left: 11%;" color="primary">ADD CATEGORY</button>
  
  <form [formGroup]="search" style="display: inline-flex;padding: 0px; width: min-content;" class="col-md-4">

    <input type="text" style="position: relative; left:90%; top:10% ;width: 250px;" class="form-control" formControlName="inp"
      placeholder="Enter Category Name to Search " aria-label="Recipient's username" aria-describedby="basic-addon2"
      (ngModelChange)="Search(this.search.controls['inp'].value)">
      <button mat-icon-button style="position: relative;left: 90%; "> <i class="material-icons"
        style="color:rgb(0, 0, 0)">search</i></button>

  </form>
</div>


<br><br>

<div class="card-box">
  <div class="row">
    <div class="table-responsive">
      <table align="center" class=".table-hover">
        <thead class="bg-primary text-white">
          <tr role="row">

            <th (click)="sortfn('category_name')">
              Category Name
              <button mat-icon-button *ngIf="this.direction==1"> <i class="material-icons"
                  style="color:rgb(0, 0, 0)">keyboard_arrow_up</i></button>
              <button mat-icon-button *ngIf="this.direction==-1"> <i class="material-icons"
                  style="color:rgb(0, 0, 0)">keyboard_arrow_down</i></button>
            </th>
            <th></th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let category of  categorydata| paginate 
          : {
              itemsPerPage: tableSize,
              currentPage: page,
              totalItems: count
            };
          
          
          ">

            <td>{{category.categoryName}}</td>

            <td>
              <button mat-icon-button><i class="material-icons" style="color:red;"
                  (click)="deleteCategory(category)">delete</i> </button>

              <button mat-icon-button> <i class="material-icons" style="color:green"
                  (click)="editCategory(category.categoryId)">edit</i></button>

            </td>
          </tr>

        </tbody>
      </table>
      <div class="d-flex justify-content-center">
        <pagination-controls (pageChange)="onTableDataChange(page=$event)">
        </pagination-controls>
      </div>
    </div>
  </div>
</div>